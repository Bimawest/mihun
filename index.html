<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      rel="stylesheet"
    />
  <link rel="stylesheet" href="style.css"/>
  <title>MIHUN LEGENDA</title>
</head>
<body>
  <header class="header">
        <div class="container">
            <div class="logo-container">
                <img id="logo" alt="Logo from meta" src="logo.jpeg" />
                <span>MIHUN LEGENDA</span>
            </div>
            <nav class="nav">
                <a href="keranjang.html" title="Shopping Cart">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cart-badge" class="cart-badge">0</span> </a>
            </nav>
        </div>
    </header>

    <main>
      <a href="login.html" title="login-admin">login-admin</a>

      <div class="slider">
        <p>buat pesananmu dan ambil di tempat</p>
        <p>buat pesananmu dan ambil di tempat</p>
        <p>buat pesananmu dan ambil di tempat</p>
      </div>
    </main>

    <section class="info">
      <h1> WE ARE OPEN NOW </h1>
      <h2> SORRY WE ARE CLOSED </h2>
    </section>

    <section class="hero">
        <div class="hero-content">
            <h1>Delicious Food Is Waiting For You</h1>
            <p>MIHUN LEGENDA Cita rasa istimewa, lezatnya tak terlupakan! dalam setiap sajian sederhananya.</p>
            <div class="hero-buttons">
                <a href="#products" class="food-menu-btn">Food Menu</a>
                <a href="#" class="book-table-btn">Book a Table</a>
            </div>
        </div>
        <div class="hero-image">
            <img src="bg.jpg" alt="Hero Food">
        </div>
    </section>


  <main>
        <div class="slideshow">
    <div class="image-container" id="imgs">
        <div class="slide-item">
            <img src="mihun.png" alt="Mihun Terlaris">
            <h3 class="overlay-text">Terlaris</h3>
        </div>
        <div class="slide-item">
            <img src="sayur3.png" alt="Menu Baru Sayur">
            <h3 class="overlay-text">Menu Baru</h3>
        </div>
    </div>

    <div class="button-container">
        <button id="pre" class="btn pre">
            <</button>
        <button id="next" class="btn next">></button>
    </div>
</div>
      <h1>Our Menu</h1>
        <section id="products" class="products">
                <div class="product-grid">
                    <div class="product-item">
                      <div class="content"></div>
                        <img alt="mihun" src="mihun.png" />
                        <h3>Mihun</h3>
                        <p class="price">Rp5.000</p>
                        <button id="btnmenu" class="add-to-cart">
                            Detail
                        </button>
                        <div class="jumblah">
                            <button class="minus">-</button>
                            <input type="text" value="0" class="quantity">
                            <button class="plus">+</button>
                            <button class="cart" data-img="mihun.png" data-name="Mihun" data-price="5000">
                                <i class="fas fa-shopping-cart"></i>
                            </button>
                        </div>
                    </div>
                    <div class="description">
                        <img src="mihun.png" alt="" />
                        <h3>Mihun</h3>
                        <p>
                            Mihun Legenda, cita rasa klasik dengan bumbu rempah pilihan,
                            disajikan hangat dengan taburan bawang goreng renyah.
                            Cocok untuk sarapan atau camilan kapan saja.
                        </p>
                        <button class="btndes">O K</button>
                    </div>

                    <div class="product-item">
                      <div class="content"></div>
                        <img alt="nasikuning" src="nasikuning.png" />
                        <h3>Nasikuning</h3>
                        <ul id="nasiKuningList">
                          <li>
                            <input type="checkbox" name="Ayam" data-name="Ayam" id="AyamCheckbox" />
                            <label for="AyamCheckbox">Ayam</label>
                          </li>
                          <li>
                            <input type="checkbox" name="Ikan" data-name="Ikan" id="IkanCheckbox"/>
                            <label for="IkanCheckbox">Ikan</label>
                          </li>
                          <li>
                            <input type="checkbox" name="Telur" data-name="Telur" id="TelurCheckbox"/>
                            <label for="TelurCheckbox">Telur</label>
                          </li>
                        </ul>
                        <p class="price">Rp10.000</p>
                        <button id="btnmenu" class="add-to-cart">
                            Detail
                        </button>
                        <div class="jumblah">
                            <button class="minus" disabled>-</button>
                            <input type="text" value="0" class="quantity" readonly>
                            <button class="plus" disabled>+</button>
                            <button class="cart" data-img="nasikuning.png" data-name="Nasikuning" data-price="10000" disabled>
                                <i class="fas fa-shopping-cart"></i>
                            </button>
                        </div>
                    </div>
                    <div class="description">
                        <img src="nasikuning.png" alt="" />
                        <h3>Nasikuning</h3>
                        <p>
                            Nasi Kuning pulen dengan aroma rempah khas, disajikan
                            dengan pilihan lauk ayam goreng, ikan suwir, atau telur dadar.
                            Porsi mengenyangkan untuk memulai hari.
                        </p>
                        <button class="btndes">O K</button>
                    </div>

                    <div class="product-item">
                      <div class="content"></div>
                        <img alt="Nasiburger" src="nasiburger.png"/>
                        <h3>Nasiburger</h3>
                        <p class="price">Rp5.000</p>
                        <button id="btnmenu" class="add-to-cart">
                            Detail
                        </button>
                        <div class="jumblah">
                            <button class="minus">-</button>
                            <input type="text" value="0" class="quantity">
                            <button class="plus">+</button>
                            <button class="cart" data-img="nasiburger.png" data-name="Nasiburger" data-price="5000">
                                <i class="fas fa-shopping-cart"></i>
                            </button>
                        </div>
                    </div>
                    <div class="description">
                        <img src="nasiburger.png" alt="" />
                        <h3>Nasiburger</h3>
                        <p>
                            Inovasi unik dari nasi yang dibentuk menyerupai burger,
                            dengan isian daging cincang gurih, sayuran segar, dan saus spesial.
                            Perpaduan cita rasa modern dan tradisional.
                        </p>
                        <button class="btndes">O K</button>
                    </div>

                    <div class="product-item">
                      <div class="content"></div>
                        <img alt="Gorengan" src="gorengan.png" />
                        <h3>Aneka Kue</h3>
                        <ul id="anekaKueList">
                          <li>
                            <input type="checkbox" name="TahuIsi" data-name="Tahu isi" id="TahuIsiCheckbox"/>
                            <label for="TahuIsiCheckbox">Tahu Isi</label>
                          </li>
                          <li>
                             <input type="checkbox" name="Ote-ote" data-name="Ote-ote" id="OteOteCheckbox"/>
                            <label for="OteOteCheckbox">Ote-ote</label>
                          </li>
                          <li>
                             <input type="checkbox" name="Lumpia" data-name="Lumpia" id="LumpiaCheckbox"/>
                            <label for="LumpiaCheckbox">Lumpia</label>
                          </li>
                          <li>
                             <input type="checkbox" name="Untuk-untuk" data-name="Untuk-untuk" id="UntukUntukCheckbox"/>
                            <label for="UntukUntukCheckbox">Untuk-untuk</label>
                          </li>
                          <li>
                             <input type="checkbox" name="donat" data-name="donat" id="DonatCheckbox"/>
                            <label for="DonatCheckbox">donat</label>
                          </li>
                          <li>
                             <input type="checkbox" name="getas" data-name="getas" id="GetasCheckbox"/>
                            <label for="GetasCheckbox">getas</label>
                          </li>
                          <li>
                             <input type="checkbox" name="dadar gulung" data-name="dadar gulung" id="DadarGulungCheckbox"/>
                            <label for="DadarGulungCheckbox">dadar gulung</label>
                          </li>
                        </ul>
                        <p class="price">Rp5.000</p>
                        <button id="btnmenu" class="add-to-cart">
                            Detail
                        </button>
                        <div class="jumblah">
                            <button class="minus" disabled>-</button>
                            <input type="text" value="0" class="quantity" readonly>
                            <button class="plus" disabled>+</button>
                            <button class="cart" data-img="gorengan.png" data-name="Aneka Kue" data-price="5000" disabled>
                                <i class="fas fa-shopping-cart"></i>
                            </button>
                        </div>
                    </div>
                    <div class="description">
                        <img src="gorengan.png" alt="" />
                        <h3>Aneka Kue</h3>
                        <p>
                            Berbagai macam kue dan gorengan tradisional yang lezat dan
                            cocok untuk camilan atau teman minum teh. Terbuat dari
                            bahan-bahan segar pilihan.
                        </p>
                        <button class="btndes">O K</button>
                    </div>

                    <div class="product-item">
                      <div class="content"></div>
                        <img alt="sayurmasak" src="sayur3.png" />
                        <h3>Sayur Masak</h3>
                        <ul id="sayurMasakList">
                          <li>
                            <input type="checkbox" name="Sayur Asem" data-name="Sayur Asem" id="SayurAsemCheckbox"/>
                            <label for="SayurAsemCheckbox">Sayur Asem</label>
                          </li>
                          <li>
                            <input type="checkbox" name="Sayur Sop" data-name="Sayur Sop" id="SayurSopCheckbox"/>
                            <label for="SayurSopCheckbox">Sayur Sop</label>
                          </li>
                          <li>
                            <input type="checkbox" name="Sayur Bening" data-name="Sayur Bening" id="SayurBeningCheckbox"/>
                            <label for="SayurBeningCheckbox">Sayur Bening</label>
                          </li>
                        </ul>
                        <p class="price">Rp5.000</p>
                        <button id="btnmenu" class="add-to-cart">
                            Detail
                        </button>
                        <div class="jumblah">
                            <button class="minus" disabled>-</button>
                            <input type="text" value="0" class="quantity" readonly>
                            <button class="plus" disabled>+</button>
                            <button class="cart" data-img="sayur3.png" data-name="Sayur Masak" data-price="5000" disabled>
                                <i class="fas fa-shopping-cart"></i>
                            </button>
                        </div>
                    </div>
                    <div class="description">
                        <img src="sayur.png" alt="" />
                        <h3>Sayur Masak</h3>
                        <p>
                            Aneka sayur masak dengan resep rumahan yang lezat dan sehat.
                            Pilihan sempurna untuk melengkapi hidangan utama Anda.
                            Segar dan bergizi.
                        </p>
                        <button class="btndes">O K</button>
                    </div>
                </div>
        </section>
    </main>

    <section class="best-potatoes">
        <div class="potatoes-content">
            <h2>Our branch is now in Balikpapan city</h2>
            <p>cita rasa MIHUN LEGENDA kini bisa kalian temukan di Balikpapan, klik tombol di bawah untuk memesan sekarang.</p>
            <a href="https://wa.me/62 85820233850?text=Halo,%20kak%20saya...">pesan sekarang</a>
        </div>
        <div class="potatoes-image">
            <img src="hero-food.png" alt="rika's mihun design by fadly">
        </div>
    </section>

  <footer class="footer">
        <iframe
    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15956.998175777242!2d117.1617682!3d-0.9674688999999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2df6a99baeba80b9%3A0xb19d99ca66befb05!2sTj.%20Harapan-Jalan%20Samboja-Muara%20Jawa!5e0!3m2!1sen!2sid!4v1745917068081!5m2!1sen!2sid"
    width="95%" height="300" style="border:2px dashed black; border-radius: 25px;" allowfullscreen=""
    loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>

        <div class="container">
            <div class="footer-logo">
                <img id="logofoot" alt="Logo from meta" src="logo.jpeg" />
                <p>© BimaTech<br />MIHUN LEGENDA, 2025</p>
            </div>
            <div class="footer-links">
                <ul>
                    <li><a href="about.html">Tentang Kami</a></li>
                    <li><a href="about.html">Pengiriman</a></li>
                </ul>
            </div>
            <div class="footer-contact">
                <a href="https://wa.me/6285246196402?text=Halo,%20kak%20saya..." target="_blank">(+62)82153547397</a>
            </div>
            <div class="footer-social">
                <a href="https://www.facebook.com/share/1ASYLAWmoE/" target="_blank"><i
                        class="fab fa-facebook-f"></i></a>
                <a href="https://x.com/bimarizki34?t=DwpYkXzYEU_ZXh37-uwG-w&s=08" target="_blank"><i
                        class="fab fa-twitter"></i></a>
                <a href="https://www.instagram.com/bimatech_?igsh=anh5N3Zud3R1bTdr" target="_blank"><i
                        class="fab fa-instagram"></i></a>
            </div>
        </div>
    </footer>

    <script>
    document.addEventListener("DOMContentLoaded", () => {
        const addToCartButtons = document.querySelectorAll(".cart");
        const cartBadge = document.getElementById("cart-badge");
        const CART_KEY_3 = 'cartItems3'; // Definisikan kunci keranjang 3

        // Fungsi untuk memperbarui badge keranjang
        function updateCartBadge() {
            const cartItems = JSON.parse(localStorage.getItem(CART_KEY_3)) || []; // Gunakan kunci keranjang 3
            cartBadge.textContent = cartItems.length; // Update jumlah item di badge

            // Sembunyikan badge jika jumlah item adalah 0
            if (cartItems.length === 0) {
                cartBadge.style.display = "none";
            } else {
                cartBadge.style.display = "block";
            }
        }

        // Update badge saat halaman dimuat
        updateCartBadge();

        // Add event listener to all "+" buttons
        addToCartButtons.forEach((button) => {
            button.addEventListener("click", () => {
                const productItem = button.closest(".product-item");
                let cartItems = JSON.parse(localStorage.getItem(CART_KEY_3)) || [];

                const imgSrc = button.getAttribute("data-img");
                const itemName = button.getAttribute("data-name");
                const price = parseFloat(button.getAttribute("data-price")); // Ambil harga dari data-price

                // Cek apakah ini produk dengan checkbox
                const isCheckboxProduct = ['Nasikuning', 'Aneka Kue', 'Sayur Masak'].includes(itemName);

                // Jika produk memiliki checkbox, pastikan setidaknya satu checkbox dipilih
                if (isCheckboxProduct) {
                    const checkedCheckboxes = productItem.querySelectorAll('input[type="checkbox"]:checked');
                    if (checkedCheckboxes.length === 0) {
                        alert("Pilih setidaknya satu topping/jenis untuk menu ini.");
                        return;
                    }

                    // Ambil kuantitas dari input kuantitas utama untuk menu ini
                    const quantityInput = productItem.querySelector(".quantity");
                    const baseQuantity = parseInt(quantityInput.value);

                    if (isNaN(baseQuantity) || baseQuantity <= 0) {
                        alert("Jumlah barang harus lebih dari 0!");
                        return;
                    }


                    checkedCheckboxes.forEach((checkbox) => {
                        const optionName = checkbox.getAttribute("data-name");
                        const fullItemName = `${itemName} (${optionName})`;

                        // Cari apakah item dengan nama lengkap ini sudah ada di keranjang
                        const existingItemIndex = cartItems.findIndex(item => item.itemName === fullItemName);

                        if (existingItemIndex > -1) {
                            // Jika item sudah ada, tambahkan kuantitasnya
                            cartItems[existingItemIndex].quantity += baseQuantity;
                        } else {
                            // Jika item belum ada, tambahkan item baru
                            const itemToAdd = {
                                imgSrc: imgSrc,
                                itemName: fullItemName,
                                quantity: baseQuantity, // Gunakan baseQuantity
                                price: price,
                            };
                            cartItems.push(itemToAdd);
                        }
                        animateImageToCart(imgSrc); // Animasi tetap berjalan
                    });
                } else {
                    // ... (logika untuk produk tanpa checkbox, yang sudah benar)
                    const quantityInput = productItem.querySelector(".quantity");
                    const quantity = parseInt(quantityInput.value);

                    if (isNaN(quantity) || quantity <= 0) {
                        alert("Jumlah barang harus lebih dari 0!");
                        return;
                    }

                    // Cari apakah item tanpa pilihan sudah ada di keranjang
                    const existingItemIndex = cartItems.findIndex(item => item.itemName === itemName);

                    if (existingItemIndex > -1) {
                        cartItems[existingItemIndex].quantity += quantity;
                    } else {
                        const cartItem = {
                            imgSrc: imgSrc,
                            itemName: itemName,
                            quantity: quantity,
                            price: price,
                        };
                        cartItems.push(cartItem);
                    }
                    animateImageToCart(imgSrc);
                }
                localStorage.setItem(CART_KEY_3, JSON.stringify(cartItems));
                updateCartBadge();
            });
        });

        // Function to animate the image to the cart
        function animateImageToCart(imgSrc) {
            const img = document.createElement("img");
            img.src = imgSrc;
            img.style.position = "fixed";
            img.style.width = "50px";
            img.style.height = "50px";
            img.style.borderRadius = "50%";
            img.style.transition = "all 1s ease";
            img.style.zIndex = "9999"; // Pastikan gambar muncul di atas elemen lain
            document.body.appendChild(img);

            const cartIcon = document.querySelector(".fa-shopping-cart");
            const cartIconRect = cartIcon.getBoundingClientRect();

            // Set posisi awal gambar animasi dari tengah tombol cart yang diklik
            const clickedButton = event.target.closest('.cart');
            const buttonRect = clickedButton.getBoundingClientRect();
            img.style.left = `${buttonRect.left + buttonRect.width / 2 - img.width / 2}px`;
            img.style.top = `${buttonRect.top + buttonRect.height / 2 - img.height / 2}px`;


            setTimeout(() => {
                const endX = cartIconRect.left + cartIconRect.width / 2 - img.width / 2;
                const endY = cartIconRect.top + cartIconRect.height / 2 - img.height / 2;
                img.style.left = `${endX}px`;
                img.style.top = `${endY}px`;
                img.style.opacity = "0.5"; // Sedikit transparan saat terbang
                img.style.transform = "scale(0.5)"; // Mengecil saat terbang
            }, 10);

            setTimeout(() => {
                img.remove();
            }, 1010);
        }
    });
</script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        // Mendapatkan semua tombol "Detail"
        const detailButtons = document.querySelectorAll(".add-to-cart");

        // Mendapatkan semua elemen deskripsi
        const descriptions = document.querySelectorAll(".description");

        // Menambahkan event listener ke setiap tombol "Detail"
        detailButtons.forEach((button, index) => {
            button.addEventListener("click", () => {
                // Menampilkan deskripsi yang sesuai
                descriptions[index].style.display = "block";
            });
        });

        // Menambahkan event listener ke setiap tombol "OK" pada deskripsi
        const okButtons = document.querySelectorAll(".btndes");
        okButtons.forEach((button, index) => {
            button.addEventListener("click", () => {
                // Menutup deskripsi yang sesuai
                descriptions[index].style.display = "none";
            });
        });
    });
</script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const minusButtons = document.querySelectorAll(".minus");
        const plusButtons = document.querySelectorAll(".plus");
        const cartButtons = document.querySelectorAll(".cart");

        // Helper function to check if any checkbox in a given list is checked
        function isAnyCheckboxChecked(listElement) {
            if (!listElement) return false;
            const checkboxes = listElement.querySelectorAll('input[type="checkbox"]');
            for (let i = 0; i < checkboxes.length; i++) {
                if (checkboxes[i].checked) {
                    return true;
                }
            }
            return false;
        }

        // Function to update the state of quantity buttons and the cart button
        function updateQuantityAndCartButtonState(productItem) {
            const quantityInput = productItem.querySelector(".quantity");
            const cartButton = productItem.querySelector(".cart");
            const minusButton = productItem.querySelector(".minus");
            const plusButton = productItem.querySelector(".plus");

            const productName = productItem.querySelector('h3').textContent.trim();

            let shouldDisableQuantityButtons = false;
            let shouldDisableCartButton = false;

            // Logic for products with checkboxes
            if (productName === 'Nasikuning' || productName === 'Aneka Kue' || productName === 'Sayur Masak') {
                const listElement = productItem.querySelector('ul');
                if (!isAnyCheckboxChecked(listElement)) {
                    shouldDisableQuantityButtons = true;
                    shouldDisableCartButton = true;
                    quantityInput.value = 0; // Reset quantity if no checkbox is selected
                } else {
                    // If checkboxes are checked, enable quantity buttons, but only allow cart if quantity > 0
                    shouldDisableQuantityButtons = false;
                    shouldDisableCartButton = (parseInt(quantityInput.value) === 0);
                }
            }
            // Logic for products without checkboxes (e.g., Mihun, Nasiburger)
            else {
                shouldDisableQuantityButtons = false; // Always enabled for these
                shouldDisableCartButton = (parseInt(quantityInput.value) === 0);
            }

            // Apply disabled state
            minusButton.disabled = shouldDisableQuantityButtons;
            plusButton.disabled = shouldDisableQuantityButtons;
            cartButton.disabled = shouldDisableCartButton;
        }

        // Event listener for minus buttons
        minusButtons.forEach((button) => {
            button.addEventListener("click", () => {
                const productItem = button.closest(".product-item");
                const quantityInput = productItem.querySelector(".quantity");
                let value = parseInt(quantityInput.value);
                if (value > 0) {
                    quantityInput.value = value - 1;
                }
                updateQuantityAndCartButtonState(productItem);
            });
        });

        // Event listener for plus buttons
        plusButtons.forEach((button) => {
            button.addEventListener("click", () => {
                const productItem = button.closest(".product-item");
                const quantityInput = productItem.querySelector(".quantity");
                let value = parseInt(quantityInput.value);
                quantityInput.value = value + 1;
                updateQuantityAndCartButtonState(productItem);
            });
        });

        // Event listener for checkboxes (for Nasikuning, Aneka Kue, Sayur Masak)
        document.querySelectorAll('.product-item ul input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', (event) => {
                const productItem = event.target.closest('.product-item');
                updateQuantityAndCartButtonState(productItem);
            });
        });


        // Initialize the state of all quantity and cart buttons when the page loads
        document.querySelectorAll(".product-item").forEach(productItem => {
            updateQuantityAndCartButtonState(productItem);
        });
    });
</script>

<script>
    // Ambil data menu dari localStorage
    const menuItems = JSON.parse(localStorage.getItem('menuItems3')) || []; // Kunci menu spesifik

    // Fungsi untuk menampilkan menu
    // Catatan: Bagian ini tampaknya untuk halaman admin atau tampilan yang berbeda,
    // karena Anda tidak memiliki elemen dengan ID 'menuList' di HTML utama.
    // Jadi, fungsi ini tidak akan berpengaruh pada tampilan produk di halaman ini.
    function displayMenu() {
        const menuList = document.getElementById('menuList');
        if (menuList) { // Periksa apakah elemen ada
            menuList.innerHTML = '';

            menuItems.forEach(item => {
                const menuItem = document.createElement('div');
                menuItem.className = 'p-4 border border-gray-300 rounded-lg'; // Kelas Tailwind CSS
                menuItem.innerHTML = `
                    <h2 class="text-xl font-semibold">ID: ${item.id}</h2>
                    <h2 class="text-xl font-semibold">${item.name}</h2>
                    <p class="text-gray-600">Harga: Rp${item.price}</p>
                    <p class="text-gray-600">Stok: ${item.stock}</p>
                    <img src="${item.image}" alt="${item.name}" class="mt-2 w-32 h-32 object-cover rounded-lg">
                `;
                menuList.appendChild(menuItem);
            });
        }
    }

    // Panggil fungsi displayMenu saat halaman dimuat
    displayMenu();
</script>

<script>
    function updateInfoDisplay() {
    const now = new Date();
    const hours = now.getHours();
    const infoH1 = document.querySelector('.info h1');
    const infoH2 = document.querySelector('.info h2');

    if (hours >= 4 && hours < 10) { // Contoh: Buka dari jam 4 pagi sampai 10 pagi
        infoH1.style.display = 'block';
        infoH2.style.display = 'none';
    } else {
        infoH1.style.display = 'none';
        infoH2.style.display = 'block';
    }
}

// Panggil fungsi saat halaman dimuat
updateInfoDisplay();

// Perbarui tampilan setiap menit (opsional, untuk perubahan waktu yang lebih dinamis)
setInterval(updateInfoDisplay, 60000);
</script>

<script>
    //script untuk merespon data admin
        // --- Load Checkbox States from LocalStorage ---
            function loadCheckboxStates(key, containerId) {
                const data = JSON.parse(localStorage.getItem(key)) || {};
                const container = document.getElementById(containerId);
                const existingCheckboxes = container.querySelectorAll('input[type="checkbox"]');

                // 1. Reset all existing static checkboxes to unchecked and visible first
                existingCheckboxes.forEach(checkbox => {
                    checkbox.checked = false; // <<< PENTING: SET KE FALSE UNTUK MEMASTIKAN TIDAK TERCENTANG
                    checkbox.parentElement.style.display = 'block'; // Ensure it's visible by default
                });

                // 2. Hide static items if they are unchecked in localStorage (from admin panel)
                existingCheckboxes.forEach(checkbox => {
                    const dataName = checkbox.getAttribute('data-name');
                    if (data[dataName] && !data[dataName].checked) {
                        checkbox.parentElement.style.display = 'none'; // Hide if unchecked in admin
                    }
                });

                // 3. Add any new items from localStorage that aren't in static HTML AND are checked
                for (const itemKey in data) {
                    const item = data[itemKey];
                    let found = false;
                    existingCheckboxes.forEach(checkbox => {
                        if (checkbox.getAttribute('data-name') === item.name) {
                            found = true;
                        }
                    });

                    // Only add new items if they are "checked" in admin and not already present
                    if (!found && item.checked) {
                        const listItem = document.createElement('li');
                        listItem.innerHTML = `
                            <input type="checkbox" name="${item.name}" data-name="${item.name}" id="${containerId}${item.name.replace(/\s/g, '')}Checkbox"/>
                            <label for="${containerId}${item.name.replace(/\s/g, '')}Checkbox">${item.name}</label><br>
                        `;
                        container.appendChild(listItem);
                    }
                }
            }

            // Call this function for each category
            loadCheckboxStates('nasiKuning', 'nasiKuningList');
            loadCheckboxStates('anekaKue', 'anekaKueList');
            loadCheckboxStates('sayurMasak', 'sayurMasakList');
    </script>

    <script>
    // Script untuk slideshow gambar
document.addEventListener("DOMContentLoaded", () => {
    // Kita sekarang menargetkan setiap 'slide-item' (div yang membungkus img dan h3)
    const slideItems = document.querySelectorAll("#imgs .slide-item");
    const prevButton = document.getElementById("pre");
    const nextButton = document.getElementById("next");
    let currentIndex = 0; // Mulai dengan item slide pertama

    // Fungsi untuk memperbarui item slide yang ditampilkan
    function updateSlide() {
        slideItems.forEach((item, index) => {
            // Tampilkan item slide saat ini, sembunyikan yang lain
            item.style.display = index === currentIndex ? "block" : "none";
        });
    }

    // Event listener untuk tombol sebelumnya
    prevButton.addEventListener("click", () => {
        currentIndex = (currentIndex > 0) ? currentIndex - 1 : slideItems.length - 1; // Pergi ke item sebelumnya atau putar ke yang terakhir
        updateSlide();
    });

    // Event listener untuk tombol berikutnya
    nextButton.addEventListener("click", () => {
        currentIndex = (currentIndex < slideItems.length - 1) ? currentIndex + 1 : 0; // Pergi ke item berikutnya atau putar ke yang pertama
        updateSlide();
    });

    // Inisialisasi tampilan item slide pertama
    updateSlide();
});
    </script>


</body>
</html>
